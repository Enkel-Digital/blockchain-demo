(function(){"use strict";var C=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function q(g){throw new Error('Could not dynamically require "'+g+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var z={exports:{}},A={exports:{}};(function(g,W){(function(w,c){g.exports=c()})(C,function(){var w=w||function(c,y){var f;if(typeof window!="undefined"&&window.crypto&&(f=window.crypto),typeof self!="undefined"&&self.crypto&&(f=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(f=globalThis.crypto),!f&&typeof window!="undefined"&&window.msCrypto&&(f=window.msCrypto),!f&&typeof C!="undefined"&&C.crypto&&(f=C.crypto),!f&&typeof q=="function")try{f=require("crypto")}catch{}var k=function(){if(f){if(typeof f.getRandomValues=="function")try{return f.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof f.randomBytes=="function")try{return f.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},m=Object.create||function(){function t(){}return function(r){var n;return t.prototype=r,n=new t,t.prototype=null,n}}(),x={},b=x.lib={},B=b.Base=function(){return{extend:function(t){var r=m(this);return t&&r.mixIn(t),(!r.hasOwnProperty("init")||this.init===r.init)&&(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=b.WordArray=B.extend({init:function(t,r){t=this.words=t||[],r!=y?this.sigBytes=r:this.sigBytes=t.length*4},toString:function(t){return(t||v).stringify(this)},concat:function(t){var r=this.words,n=t.words,o=this.sigBytes,s=t.sigBytes;if(this.clamp(),o%4)for(var a=0;a<s;a++){var u=n[a>>>2]>>>24-a%4*8&255;r[o+a>>>2]|=u<<24-(o+a)%4*8}else for(var l=0;l<s;l+=4)r[o+l>>>2]=n[l>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=c.ceil(r/4)},clone:function(){var t=B.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(k());return new h.init(r,t)}}),S=x.enc={},v=S.Hex={stringify:function(t){for(var r=t.words,n=t.sigBytes,o=[],s=0;s<n;s++){var a=r[s>>>2]>>>24-s%4*8&255;o.push((a>>>4).toString(16)),o.push((a&15).toString(16))}return o.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o+=2)n[o>>>3]|=parseInt(t.substr(o,2),16)<<24-o%8*4;return new h.init(n,r/2)}},p=S.Latin1={stringify:function(t){for(var r=t.words,n=t.sigBytes,o=[],s=0;s<n;s++){var a=r[s>>>2]>>>24-s%4*8&255;o.push(String.fromCharCode(a))}return o.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o++)n[o>>>2]|=(t.charCodeAt(o)&255)<<24-o%4*8;return new h.init(n,r)}},e=S.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},i=b.BufferedBlockAlgorithm=B.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(t){typeof t=="string"&&(t=e.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var r,n=this._data,o=n.words,s=n.sigBytes,a=this.blockSize,u=a*4,l=s/u;t?l=c.ceil(l):l=c.max((l|0)-this._minBufferSize,0);var H=l*a,_=c.min(H*4,s);if(H){for(var R=0;R<H;R+=a)this._doProcessBlock(o,R);r=o.splice(0,H),n.sigBytes-=_}return new h.init(r,_)},clone:function(){var t=B.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});b.Hasher=i.extend({cfg:B.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){i.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(t){return function(r,n){return new t.init(n).finalize(r)}},_createHmacHelper:function(t){return function(r,n){return new d.HMAC.init(t,n).finalize(r)}}});var d=x.algo={};return x}(Math);return w})})(A),function(g,W){(function(w,c){g.exports=c(A.exports)})(C,function(w){return function(c){var y=w,f=y.lib,k=f.WordArray,m=f.Hasher,x=y.algo,b=[],B=[];(function(){function v(d){for(var t=c.sqrt(d),r=2;r<=t;r++)if(!(d%r))return!1;return!0}function p(d){return(d-(d|0))*4294967296|0}for(var e=2,i=0;i<64;)v(e)&&(i<8&&(b[i]=p(c.pow(e,1/2))),B[i]=p(c.pow(e,1/3)),i++),e++})();var h=[],S=x.SHA256=m.extend({_doReset:function(){this._hash=new k.init(b.slice(0))},_doProcessBlock:function(v,p){for(var e=this._hash.words,i=e[0],d=e[1],t=e[2],r=e[3],n=e[4],o=e[5],s=e[6],a=e[7],u=0;u<64;u++){if(u<16)h[u]=v[p+u]|0;else{var l=h[u-15],H=(l<<25|l>>>7)^(l<<14|l>>>18)^l>>>3,_=h[u-2],R=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;h[u]=H+h[u-7]+R+h[u-16]}var L=n&o^~n&s,F=i&d^i&t^d&t,O=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),U=(n<<26|n>>>6)^(n<<21|n>>>11)^(n<<7|n>>>25),P=a+U+L+B[u]+h[u],D=O+F;a=s,s=o,o=n,n=r+P|0,r=t,t=d,d=i,i=P+D|0}e[0]=e[0]+i|0,e[1]=e[1]+d|0,e[2]=e[2]+t|0,e[3]=e[3]+r|0,e[4]=e[4]+n|0,e[5]=e[5]+o|0,e[6]=e[6]+s|0,e[7]=e[7]+a|0},_doFinalize:function(){var v=this._data,p=v.words,e=this._nDataBytes*8,i=v.sigBytes*8;return p[i>>>5]|=128<<24-i%32,p[(i+64>>>9<<4)+14]=c.floor(e/4294967296),p[(i+64>>>9<<4)+15]=e,v.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var v=m.clone.call(this);return v._hash=this._hash.clone(),v}});y.SHA256=m._createHelper(S),y.HmacSHA256=m._createHmacHelper(S)}(Math),w.SHA256})}(z);var T=z.exports;function I({blockData:g,difficulty:W}){console.log("Computing POW in web worker");const w="0".repeat(W);let c=0,y;do y=T(g+c++).toString();while(y.substring(0,W)!==w);return{hash:y,pow:c}}self.onmessage=g=>self.postMessage(I(g.data))})();
